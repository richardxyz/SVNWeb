webpackJsonp([65],{UkVb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),l=a.n(s),n=a("mw3O"),o=a.n(n),i=a("OMN4"),r=a.n(i),c=a("NYxO"),u={name:"pageHome",data:function(){return{paging:{page:1,pageSize:10,total:0},menuName:"",menuAddress:"",menuPagename:"",menuSort:"",levelList:[{value:"0",label:"一级菜单"},{value:"1",label:"二级菜单"}],level:"0",showchose:"",associatedList:[{menuId:"0",menuName:"一级菜单"}],associated:"0",LevelA:[],tableData:[]}},computed:l()({},Object(c.e)({count:"firstarr"})),mounted:function(){0!=localStorage.getItem("dealer")?this.showchose=!1:this.showchose=!0,this.searchClick(),document.title=this.$route.meta.title,console.log(localStorage.getItem("dealer"))},methods:l()({indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){console.log(2),this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){console.log(1),this.searchClick(),console.log(this.tableData)}},Object(c.b)(["getMenu"]),{searchClick:function(){this.getMenu({});var e=this;e.tableData=[];var t={page:e.paging.page,pageSize:e.paging.pageSize};r()({method:"post",url:this.$store.state.url+"/menu/page",data:o.a.stringify(t)}).then(function(t){console.log(t.data),0==t.data.resCode&&(e.tableData=t.data.result,e.paging.total=t.data.count,console.log(e.tableData))}),r()({method:"post",url:this.$store.state.url+"/menu/level/0"}).then(function(t){console.log(t.data),0==t.data.resCode&&(e.LevelA=t.data.result)})},levelChange:function(){1==this.level?(this.associatedList=this.LevelA,this.associated=this.associatedList[0].menuId):(this.associatedList=[{menuId:"0",menuName:"一级菜单"}],this.associated="0")},addClick:function(){var e=this,t={menuName:this.menuName,menuAddress:this.menuAddress,menuPagename:this.menuPagename,menuSort:this.menuSort,menuLevel:this.level,menuAssociated:this.associated,menuId:this.menuSort};console.log(t),r()({method:"post",url:this.$store.state.url+"/menu/add",data:o.a.stringify(t)}).then(function(t){console.log(t.data),0==t.data.resCode?(e.searchClick(),e.$message({type:"success",message:"添加成功"}),e.menuName="",e.menuPagename="",e.menuAddress="",e.menuSort=""):e.$message({type:"error",message:"添加失败"})})},deleteClick:function(e){var t=this,a=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r()({method:"post",url:t.$store.state.url+"/menu/delete/"+e.menuId}).then(function(e){console.log(e.data),0==e.data.resCode?(a.searchClick(),a.$message({type:"success",message:"删除成功"})):a.$alert(e.data.result,"系统确认框",{confirmButtonText:"确定"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}})},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"add"}},[a("div",{staticClass:"select"},[a("span",[e._v("菜单名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}}),e._v(" "),a("span",[e._v("路径名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuPagename,callback:function(t){e.menuPagename=t},expression:"menuPagename"}}),e._v(" "),a("span",[e._v("菜单等级：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.levelChange},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},e._l(e.levelList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("图片名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuAddress,callback:function(t){e.menuAddress=t},expression:"menuAddress"}}),e._v(" "),a("span",[e._v("排序数字：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.menuSort,callback:function(t){e.menuSort=t},expression:"menuSort"}}),e._v(" "),a("span",[e._v("菜单关联：")]),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.associated,callback:function(t){e.associated=t},expression:"associated"}},e._l(e.associatedList,function(e){return a("el-option",{key:e.menuId,attrs:{label:e.menuName,value:e.menuId}})}))],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showchose,expression:"showchose"}],staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addClick}},[e._v("添加")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{label:"菜单名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.menuName))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.menuName))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"路径名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.menuPagename))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.menuPagename))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"图片路径"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.menuAddress))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.menuAddress))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"菜单等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.menuLevel))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.menuLevel))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"菜单关联"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.menuAssociated))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.menuAssociated))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(a){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1)])},staticRenderFns:[]};var m=a("VU/8")(u,d,!1,function(e){a("zpwM")},"data-v-3f0b19f8",null);t.default=m.exports},zpwM:function(e,t){}});