(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b99b3b28"],{"0710":function(t,e,s){},"2d66":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"deviceStatus"},[s("div",{staticClass:"deviceStatusTop"},[s("div",{staticClass:"deviceStatusTopLeft"},[t._m(0),s("div",{staticClass:"batteryContent"},[t._v("\n        电量: "),s("span",{staticClass:"batteryText"},[t._v(t._s(t.device.volPercent))]),t._v("%\n      ")])]),s("div",{staticClass:"deviceStatusTopRight",on:{click:function(e){return t.setting()}}},[s("van-icon",{staticClass:"setting",attrs:{name:"setting-o",color:"#1466E5"}}),s("span",[t._v("设置")])],1)]),s("div",{staticClass:"deviceStatusCenter"},[s("img",{attrs:{src:1==t.openStatus?t.img:t.img1,alt:""}}),s("p",[t._v(t._s(t.device.alias)+t._s(0==t.openStatus?"已关闭":1==t.openStatus?"已打开":"未知"))])]),s("div",{staticClass:"lookRecord",on:{click:function(e){return t.lookRecord()}}},[t._v("查看记录")])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"battery"},[s("div",{staticClass:"batteryBody"}),s("div",{staticClass:"batteryHead"})])])}],n=(s("433b"),s("d399")),o={name:"deviceStatus",data(){return{img:s("eb2a"),img1:s("7bee"),device:{},deviceInfo:{},onlineStatus:"",openStatus:"",onload:""}},beforeDestroy(){clearInterval(this.onload)},created(){this.deviceInfo=JSON.parse(sessionStorage.getItem("deviceInfo")),this.getDeviceStatus(),this.getOpenStatus(),this.onload=setInterval(()=>{this.getOpenStatus()},3e3)},mounted(){let t=this.device.volPercent/100*16*.02667,e=document.getElementsByClassName("batteryBody")[0];e.style.height=t+"rem"},methods:{getDeviceStatus(){let t=this;this.$axios.get(this.url+"/device/dmInfo/deviceDetail?dmInfoId="+this.$route.query.id).then(e=>{if(console.log(e),200==e.data.code){t.device=e.data.data,null==t.device.volPercent&&(t.device.volPercent=0);let s=this.device.volPercent/100*16*.02667,a=document.getElementsByClassName("batteryBody")[0];a.style.height=s+"rem"}else Object(n["a"])(e.data.message)})},getOnlineStatus(){let t=this;this.$axios.get(this.url+"/device/dmInfo/getDeviceStatus?deviceId="+this.deviceInfo.deviceId).then(e=>{console.log(e),200==e.data.code?t.onlineStatus=e.data.data:Object(n["a"])(e.data.message)})},getOpenStatus(){let t=this;this.$axios.get(this.url+"/device/dmInfo/getDoorStatus?deviceId="+this.deviceInfo.deviceId).then(e=>{console.log(e),200==e.data.code?t.openStatus=e.data.data:Object(n["a"])(e.data.message)})},setting(){this.$router.push({path:"/setting"})},lookRecord(){this.$router.push({path:"/deviceRecord"})}}},c=o,d=(s("d7ed"),s("2877")),l=Object(d["a"])(c,a,i,!1,null,"6f3276b6",null);e["default"]=l.exports},"7bee":function(t,e,s){t.exports=s.p+"static/img/door_close.300c67b3.png"},d7ed:function(t,e,s){"use strict";var a=s("0710"),i=s.n(a);i.a},eb2a:function(t,e,s){t.exports=s.p+"static/img/door_open.54abc064.png"}}]);
//# sourceMappingURL=chunk-b99b3b28.2892d9c3.js.map