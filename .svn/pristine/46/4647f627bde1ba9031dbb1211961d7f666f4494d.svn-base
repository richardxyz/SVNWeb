webpackJsonp([85],{Kz8M:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("woOf"),l=t.n(s),r=t("mw3O"),i=t.n(r),n=t("OMN4"),d=t.n(n),c={name:"equipmentList",data:function(){return{obj:[],numw:[],numvalue:[],universal:{add:!1,change:!1},paging:{page:1,pageSize:10,total:0},tableData:[],search:{parking_id:"",car_number:"",in_time:"",out_time:"",InroadGateId:"",status:""},add:{fauMode:"",fauName:"",fauSolve:"",fauCode:"",devId:""},change:{fauId:"",fauMode:"",fauName:"",fauSolve:"",fauCode:"",devId:""}}},mounted:function(){document.title=this.$route.meta.title,this.searchClick()},methods:{hideclick:function(){this.universal.change=!1},indexMethod:function(a){return a+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(a){this.paging.pageSize=a,this.searchClick()},handleCurrentChange:function(a){this.searchClick()},addClick:function(){console.log(this.add);var a=this.add,e=this;console.log(a),d()({method:"post",url:this.$store.state.http+"/fault/add",data:i.a.stringify(a)}).then(function(a){console.log(a.data),0==a.data.resCode?e.searchClick():e.$message({message:"添加失败",type:"error"})}),e.universal.add=!1},deleteClick:function(a){var e=this;console.log(a);var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){d()({method:"post",url:"http://39.104.113.112:2088/Parking/delEnterOutRecords",data:i.a.stringify({id:a.id})}).then(function(a){console.log(a.data),0==a.data.resCode?(t.$message({message:"删除成功",type:"success"}),t.searchClick()):t.$message({message:"删除失败",type:"error"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},changeShow:function(a){this.universal.change=!0,this.change=l()({},a),console.log(a)},changeClick:function(){var a=this.change;delete a.date;var e=this;d()({method:"post",url:this.$store.state.http+"/fault/update",data:i.a.stringify(a)}).then(function(a){console.log(a.data),0==a.data.resCode?(e.$message({message:"修改成功",type:"success"}),e.searchClick()):e.$message({message:"修改失败",type:"error"})}),e.universal.change=!1},searchClick:function(){var a={page:this.paging.page,pageSize:this.paging.pageSize,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")};this.search.parking_id&&(a.parking_id=this.search.parking_id),this.search.car_number&&(a.car_number=this.search.car_number),this.search.in_time&&(a.in_time=this.search.in_time),this.search.out_time&&(a.out_time=this.search.out_time),this.search.InroadGateId&&(a.InroadGateId=this.search.InroadGateId),this.search.status&&(a.status=this.search.status),"未出场"==a.status?a.status=1:"已出场"==a.status&&(a.status=0),console.log(a);var e=this;e.tableData=[],d()({method:"post",url:e.$store.state.url+"/carBrand/findAll ",data:i.a.stringify(a)}).then(function(a){if(console.log(a.data),0==a.data.resCode){for(var t=0;t<a.data.result.length;t++)0==a.data.result[t].status?a.data.result[t].status="已出场":a.data.result[t].status="未出场",""==a.data.result[t].out_time&&(a.data.result[t].out_time="-"),""==a.data.result[t].in_time&&(a.data.result[t].in_time="-");e.paging.total=a.data.count,e.tableData=a.data.result}else e.tableData=[]})}}},o={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"faultList"}},[a._m(0),a._v(" "),t("div",{staticClass:"select"},[t("span",[a._v("车牌号码：")]),a._v(" "),t("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:a.search.car_number,callback:function(e){a.$set(a.search,"car_number",e)},expression:"search.car_number"}}),a._v(" "),t("span",[a._v("进场状态：")]),a._v(" "),t("el-select",{attrs:{placeholder:"请选择"},model:{value:a.search.status,callback:function(e){a.$set(a.search,"status",e)},expression:"search.status"}},[t("el-option",[a._v("未选择")]),a._v(" "),a._l(this.$store.state.online,function(a){return t("el-option",{key:a.id,attrs:{label:a.type,value:a.type}})})],2)],1),a._v(" "),t("div",{staticClass:"select"},[t("span",[a._v("进场时间：")]),a._v(" "),t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:a.search.in_time,callback:function(e){a.$set(a.search,"in_time",e)},expression:"search.in_time"}}),a._v(" "),t("span",[a._v("出场时间：")]),a._v(" "),t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:a.search.out_time,callback:function(e){a.$set(a.search,"out_time",e)},expression:"search.out_time"}})],1),a._v(" "),t("div",{staticClass:"select"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:a.searchClick}},[a._v("查询")])],1),a._v(" "),t("div",{staticClass:"Content"},[t("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:a.tableData}},[t("el-table-column",{attrs:{type:"index",index:a.indexMethod,label:"序号",width:"100"}}),a._v(" "),t("el-table-column",{attrs:{label:"车牌号码",width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[a._v(a._s(e.row.car_number))]),a._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[a._v(a._s(e.row.car_number))])])])]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"停车场编号",width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[a._v(a._s(e.row.parking_id))]),a._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[a._v(a._s(e.row.parking_id))])])])]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"进场状态",width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[a._v(a._s(e.row.status))]),a._v(" "),t("div",{staticClass:"name-wrapper tagFont",attrs:{slot:"reference"},slot:"reference"},["已出场"==e.row.status?t("el-tag",{attrs:{color:"#5daf34"}},[a._v(a._s(e.row.status))]):a._e(),a._v(" "),"未出场"==e.row.status?t("el-tag",{attrs:{color:"#c9521e"}},[a._v(a._s(e.row.status))]):a._e()],1)])]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"出场时间",width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[a._v(a._s(e.row.out_time))]),a._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[a._v(a._s(e.row.out_time))])])])]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"入场时间",width:""},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-popover",{attrs:{trigger:"hover",placement:"top"}},[t("p",{staticClass:"TsMaxWidth"},[a._v(a._s(e.row.in_time))]),a._v(" "),t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"overflowHide"},[a._v(a._s(e.row.in_time))])])])]}}])})],1)],1),a._v(" "),t("el-dialog",{attrs:{title:"新增",visible:a.universal.add},on:{"update:visible":function(e){a.$set(a.universal,"add",e)}}},[t("div",{staticClass:"alipays"},[t("div",{staticClass:"alipay"},[t("span",{staticClass:"spanClass"},[a._v("停车场编号：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.devId,callback:function(e){a.$set(a.add,"devId",e)},expression:"add.devId"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("停车场地址：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauMode,callback:function(e){a.$set(a.add,"fauMode",e)},expression:"add.fauMode"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("停车场类型：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauCode,callback:function(e){a.$set(a.add,"fauCode",e)},expression:"add.fauCode"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("停车场名称：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("收款方编号：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("高德标识：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("客服电话：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br")],1),a._v(" "),t("div",{staticClass:"alipay"},[t("span",{staticClass:"spanClass"},[a._v("支付方式：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("收费说明：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("停车单价：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("超时时间：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("免费时长：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("最高时长：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("最高收费：")]),a._v(" "),t("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:a.add.fauName,callback:function(e){a.$set(a.add,"fauName",e)},expression:"add.fauName"}}),t("br"),t("br")],1)]),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(e){a.universal.add=!1}}},[a._v("取消")]),a._v(" "),t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:a.addClick}},[a._v("添加")])],1)]),a._v(" "),t("el-dialog",{attrs:{title:"修改",visible:a.universal.change},on:{"update:visible":function(e){a.$set(a.universal,"change",e)}}},[t("div",[t("span",{staticClass:"spanClass"},[a._v("设备型号：")]),a._v(" "),t("el-input",{attrs:{disabled:!0,clearable:"",placeholder:"请输入内容"},model:{value:a.change.devId,callback:function(e){a.$set(a.change,"devId",e)},expression:"change.devId"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("故障类型：")]),a._v(" "),t("el-input",{attrs:{disabled:!0,clearable:"",placeholder:"请输入内容"},model:{value:a.change.fauMode,callback:function(e){a.$set(a.change,"fauMode",e)},expression:"change.fauMode"}}),t("br"),t("br"),a._v(" "),t("span",{staticClass:"spanClass"},[a._v("解决方法：")]),a._v(" "),t("el-input",{staticClass:"textareaWidth",attrs:{disabled:!1,type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:a.change.fauSolve,callback:function(e){a.$set(a.change,"fauSolve",e)},expression:"change.fauSolve"}})],1),a._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:a.hideclick}},[a._v("取消")]),a._v(" "),t("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:a.changeClick}},[a._v("修改")])],1)]),a._v(" "),t("div",{staticClass:"footer"},[t("el-pagination",{attrs:{background:"","current-page":a.paging.page,"page-sizes":[1,2,3,10,11,12],"page-size":a.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:a.paging.total},on:{"current-change":a.handleCurrentChange,"size-change":a.handleSizeChange,"update:currentPage":function(e){a.$set(a.paging,"page",e)}}})],1)],1)},staticRenderFns:[function(){var a=this.$createElement,e=this._self._c||a;return e("div",{staticClass:"header"},[e("div",{staticClass:"headerTitle"},[e("span",[this._v("临时车牌")])])])}]};var u=t("VU/8")(c,o,!1,function(a){t("QTEN")},"data-v-1832e4c1",null);e.default=u.exports},QTEN:function(a,e){}});