webpackJsonp([94],{"08pj":function(e,t){},uTJS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),l=a.n(s),o=a("mw3O"),i=a.n(o),n=a("OMN4"),r=a.n(n),c={name:"equipmentList",data:function(){return{obj:[],relevance:[{value:0,type:"江河美停车场"},{value:1,type:"中海钱江湾"},{value:2,type:"越秀维多利中心"},{value:3,type:"泊寓文一社区"}],numw:[],numvalue:[],universal:{add:!1,change:!1},paging:{page:1,pageSize:10,total:0},tableData:[],search:{devId:"",fauMode:""},add:{fauMode:"",fauName:"",fauSolve:"",fauCode:"",devId:""},change:{alias:"",id:""},upstatus:[{id:1,type:"上升"},{id:2,type:"下降"}],options:[{id:1,type:"在线"},{id:2,type:"离线"}]}},mounted:function(){document.title=this.$route.meta.title,this.searchClick()},methods:{hideclick:function(){this.universal.change=!1},indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},addClick:function(){console.log(this.add);var e=this.add,t=this;console.log(e),r()({method:"post",url:this.$store.state.http+"/fault/add",data:i.a.stringify(e)}).then(function(e){console.log(e.data),0==e.data.resCode?t.searchClick():t.$message({message:"添加失败",type:"error"})}),t.universal.add=!1},deleteClick:function(e){var t=this;console.log(e);var a=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){r()({method:"post",url:t.$store.state.http+"/Parking/del",data:i.a.stringify({id:e.id})}).then(function(e){console.log(e.data),0==e.data.resCode?a.searchClick():a.$message({message:"删除失败",type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changeShow:function(e){this.universal.change=!0,this.change=l()({},e),console.log(e)},changeClick:function(e){console.log(e);var t={id:e.id,openid:this.change.openid},a=this;r()({method:"post",url:this.$store.state.http+"/Parking/update",data:i.a.stringify(t)}).then(function(e){console.log(e.data),0==e.data.resCode?(a.searchClick(),a.$message({message:"修改成功",type:"success"}),a.searchClick()):a.$message({message:"修改失败",type:"error"})}),a.universal.change=!1},searchClick:function(){var e={page:this.paging.page,pageSize:this.paging.pageSize,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")};this.search.devId&&(e.devId=this.search.devId),this.search.fauMode&&(e.fauCode=this.options[this.search.fauMode].type),console.log(e),e.user=sessionStorage.getItem("user");var t=this;t.tableData=[],r()({method:"post",url:this.$store.state.http+"/Parking/list",data:i.a.stringify(e)}).then(function(e){if(console.log(e.data),0==e.data.resCode){for(var a=0;a<e.data.results.length;a++)1==e.data.results[a].onoffline?e.data.results[a].onoffline="在线":0==e.data.results[a].onoffline&&(e.data.results[a].onoffline="离线"),1==e.data.results[a].date?e.data.results[a].date="下降":0==e.data.results[a].date&&(e.data.results[a].date="上升"),0==e.data.results[a].monType?e.data.results[a].monType="是":1==e.data.results[a].monType&&(e.data.results[a].monType="否");t.paging.total=e.data.count,t.tableData=e.data.results}else t.tableData=[]})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"faultList"}},[e._m(0),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("车位名称：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.devId,callback:function(t){e.$set(e.search,"devId",t)},expression:"search.devId"}}),e._v(" "),a("span",[e._v("在线状态：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.fauMode,callback:function(t){e.$set(e.search,"fauMode",t)},expression:"search.fauMode"}},[a("el-option",{attrs:{value:""}},[e._v("未选择")]),e._v(" "),e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.id}})})],2),e._v(" "),a("span",[e._v("升降状态：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.fauModes,callback:function(t){e.$set(e.search,"fauModes",t)},expression:"search.fauModes"}},[a("el-option",{attrs:{value:""}},[e._v("未选择")]),e._v(" "),e._l(e.upstatus,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.id}})})],2)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"车位名称",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.alias))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.alias))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"租用状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.alias))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.alias))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"升降状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.date))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.date))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联停车场",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.openid))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.openid))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"关联设备",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.id))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.id))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"在线状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.onoffline))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.onoffline))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否包月",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.monType))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.monType))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电量",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.type))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.type))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("i",{staticClass:"icon-change el-icon-edit",on:{click:function(a){e.changeShow(t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(a){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.universal.add},on:{"update:visible":function(t){e.$set(e.universal,"add",t)}}},[a("div",[a("span",{staticClass:"spanClass"},[e._v("设备ID：")]),e._v(" "),a("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:e.add.devId,callback:function(t){e.$set(e.add,"devId",t)},expression:"add.devId"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("设备型号：")]),e._v(" "),a("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:e.add.fauMode,callback:function(t){e.$set(e.add,"fauMode",t)},expression:"add.fauMode"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("解决方法：")]),e._v(" "),a("el-input",{staticClass:"textareaWidth",attrs:{disabled:!1,type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:e.add.fauSolve,callback:function(t){e.$set(e.add,"fauSolve",t)},expression:"add.fauSolve"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(t){e.universal.add=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.addClick}},[e._v("添加")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改",visible:e.universal.change},on:{"update:visible":function(t){e.$set(e.universal,"change",t)}}},[a("div",[a("span",{staticClass:"spanClass"},[e._v("设备ID：")]),e._v(" "),a("el-input",{attrs:{disabled:!0,clearable:"",placeholder:"请输入内容"},model:{value:e.change.id,callback:function(t){e.$set(e.change,"id",t)},expression:"change.id"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("车位名称：")]),e._v(" "),a("el-input",{attrs:{disabled:!0,clearable:"",placeholder:"请输入内容"},model:{value:e.change.alias,callback:function(t){e.$set(e.change,"alias",t)},expression:"change.alias"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("关联停车场：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.fauModecar,callback:function(t){e.$set(e.search,"fauModecar",t)},expression:"search.fauModecar"}},e._l(e.relevance,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.id}})})),a("br"),a("br")],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.hideclick}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.changeClick}},[e._v("修改")])],1)]),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[1,2,3,10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerTitle"},[t("span",[this._v("车位管理")])])])}]};var u=a("VU/8")(c,d,!1,function(e){a("08pj")},"data-v-058d27d9",null);t.default=u.exports}});