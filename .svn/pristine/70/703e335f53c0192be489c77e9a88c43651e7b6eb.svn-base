(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17bc90b8"],{"0d96":function(e,t,s){"use strict";var o=s("aa31"),a=s.n(o);a.a},"9ed6":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("div",{staticClass:"indexTop"},[s("div",{staticClass:"font"},[e._v("手机号")]),s("div",{staticClass:"phone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",name:"",placeholder:"请输入手机号码"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),s("div",{staticClass:"fontCode"},[e._v("验证码")]),s("div",{staticClass:"codeNumber"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"number",pattern:"\\d*",placeholder:"请输入验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),""==this.t?s("div",{staticClass:"code",on:{click:e.sendab}},[e._v(e._s(e.val))]):s("div",{staticClass:"code",staticStyle:{background:"#c0c0c0"}},[e._v(e._s(e.textsend))])])]),s("div",{staticClass:"login"},[s("div",{on:{click:e.bindPhone}},[e._v("立即登录")])])])},a=[],n=(s("433b"),s("d399")),i=s("2f62"),c=(s("cebe"),s("4328"),{name:"add",data(){return{phone:"",code:"",val:"发送验证码",t:"",textsend:""}},computed:{...Object(i["b"])(["url"])},methods:{async sendab(){if(""==this.phone)return Object(n["a"])("请输入手机号"),!1;let e=/^[1][3,4,5,7,8,9][0-9]{9}$/;if(!e.test(this.phone))return Object(n["a"])("请输入正确手机号"),!1;let t=this;t.textsend="剩余60s";let s=59;t.t=setInterval(function(){s<=0?(clearInterval(t.t),t.t="",t.val="重新发送"):t.textsend="剩余"+s--+"s"},1e3);let o={phoneNumber:t.phone};this.url;console.log(o),this.$axios.get(this.url+"/weChat/message/code?phoneNumber="+this.phone).then(e=>{console.log(e),200==e.data.code?Object(n["a"])("短信发送成功"):Object(n["a"])(e.data.message)})},bindPhone(){if(""==this.phone)return void Object(n["a"])("请输入手机号");let e=/^[1][3,4,5,7,8,9][0-9]{9}$/;if(!e.test(this.phone))return void Object(n["a"])("请输入正确手机号");if(""==this.code)return void Object(n["a"])("请输入验证码");let t={phoneNumber:this.phone,openId:localStorage.getItem("openId"),code:this.code},s=this.url+"/weChat/message/register";console.log(t),this.$axios.post(s,JSON.stringify(t)).then(e=>{console.log(e),200==e.data.code?(localStorage.setItem("phone",this.phone),this.$route.query.deviceId?that.$router.push({path:"/addDevice",query:{deviceId:this.$route.query.deviceId}}):this.$router.push("/deviceList")):Object(n["a"])(e.data.message)})}}}),d=c,r=(s("0d96"),s("2877")),l=Object(r["a"])(d,o,a,!1,null,"749aa721",null);t["default"]=l.exports},aa31:function(e,t,s){}}]);
//# sourceMappingURL=chunk-17bc90b8.80f43feb.js.map