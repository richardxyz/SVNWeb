webpackJsonp([44],{"1Nph":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),l=a.n(s),o=a("mw3O"),r=a.n(o),i=a("OMN4"),n=a.n(i),c={name:"equipmentList",data:function(){return{universal:{look:!1},look:{iccid:"",imsi:"",msisdn:""},address:1,tableData:this.$store.state.tableData,paging:{page:1,pageSize:10,total:0},search:{stateType:"",operid:"",concode:"",cardnumber:""},cardonline:[{value:1,type:"杭州移动"},{value:2,type:"温州移动"}],cardaffiliation:[{value:1,type:"在线"},{value:2,type:"离线"},{value:3,type:"未激活"}]}},mounted:function(){document.title=this.$route.meta.title,this.map=new BMap.Map("allmap"),this.geoc=new BMap.Geocoder,this.searchClick(),console.log(this.randomNum())},methods:{seeClick:function(e){console.log(e),this.universal.look=!0;var t=this;n()({method:"post",url:this.$store.state.http+"/viccid/cardInfo",data:r.a.stringify({cardnumber:e.cardnumber})}).then(function(e){console.log(e),0==e.data.resCode&&(t.look.iccid=e.data.message.iccid,t.look.imsi=e.data.message.imsi,t.look.msisdn=e.data.message.msisdn)})},uploadFile:function(e){var t=new FormData;t.append("excelFile",e);e=t;console.log(e),n()({method:"post",url:this.$store.state.http+"/viccid/importExcels",data:e}).then(function(e){console.log(e)})},randomNum:function(){return parseInt(50*Math.random())},indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},addClick:function(){},deleteClick:function(e){},changeShow:function(e){},changeClick:function(){},searchClick:function(){this.address=0;var e={page:this.paging.page,pageSize:this.paging.pageSize,userId:localStorage.getItem("userId"),userType:localStorage.getItem("userType")};this.search.stateType&&("离线"==this.search.stateType?e.stateType="00":"在线"==this.search.stateType?e.stateType="01":"未激活"==this.search.stateType&&(e.stateType="02")),this.search.operid&&(e.operid=this.search.operid),this.search.concode&&(e.concode=this.search.concode),this.search.cardnumber&&(e.cardnumber=this.search.cardnumber),console.log(e);var t=this;t.tableData=[],n()({method:"post",url:this.$store.state.http+"/viccid/iccidlist",data:r.a.stringify(e)}).then(function(e){if(console.log(e.data),0==e.data.resCode){for(var a=0;a<e.data.results.length;a++)e.data.results[a].date.time=t.common.timeToDate(l()(e.data.results[a].date.time).slice(0,10)),"00"==e.data.results[a].statetype?e.data.results[a].statetype="离线":"01"==e.data.results[a].statetype?e.data.results[a].statetype="在线":e.data.results[a].statetype="未激活";t.tableData=e.data.results,t.paging.total=e.datacount,console.log(t.tableData)}else t.tableData=[]})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"offReport"}},[e._m(0),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("ICCID：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.cardnumber,callback:function(t){e.$set(e.search,"cardnumber",t)},expression:"search.cardnumber"}}),e._v(" "),a("span",[e._v("设备编号：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.concode,callback:function(t){e.$set(e.search,"concode",t)},expression:"search.concode"}}),e._v(" "),a("span",[e._v("流量卡状态：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.stateType,callback:function(t){e.$set(e.search,"stateType",t)},expression:"search.stateType"}},[a("el-option",[e._v("未选择")]),e._v(" "),e._l(e.cardaffiliation,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.type}})})],2)],1),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("服务商：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.operid,callback:function(t){e.$set(e.search,"operid",t)},expression:"search.operid"}},[a("el-option",[e._v("未选择")]),e._v(" "),e._l(e.cardonline,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.type}})})],2)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.searchClick}},[e._v("查询")]),e._v(" "),a("el-upload",{staticClass:"upload-demo demoele",attrs:{action:"","before-upload":e.uploadFile,"on-success":e.handleAvatarSuccess,multiple:"",limit:1,"on-exceed":e.handleExceed}},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-download"}},[e._v("导入")])],1)],1),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"归属客户"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.usename))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.usename))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"ICCID"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.cardnumber))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.cardnumber))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否开通"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v("已开通")]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v("已开通")])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.housDate))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.housDate))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"流量卡状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.statetype))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.statetype))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"剩余流量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.lefts/1e4)+"MB")]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.lefts/1e4)+"MB")])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"全部流量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.flow)+"MB")]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.flow)+"MB")])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"服务商"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.operid))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.operid))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看",placement:"top"}},[a("i",{staticClass:"icon-See el-icon-search",on:{click:function(a){e.seeClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"查看",visible:e.universal.look},on:{"update:visible":function(t){e.$set(e.universal,"look",t)}}},[a("div",[a("span",{staticClass:"spanClass"},[e._v("ICCID：")]),e._v(" "),a("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:e.look.iccid,callback:function(t){e.$set(e.look,"iccid",t)},expression:"look.iccid"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("IMSI：")]),e._v(" "),a("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:e.look.imsi,callback:function(t){e.$set(e.look,"imsi",t)},expression:"look.imsi"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("物联网卡号：")]),e._v(" "),a("el-input",{attrs:{disabled:!1,clearable:"",placeholder:"请输入内容"},model:{value:e.look.msisdn,callback:function(t){e.$set(e.look,"msisdn",t)},expression:"look.msisdn"}}),a("br"),a("br")],1)]),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1),e._v(" "),a("div",{attrs:{id:"allmap"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerTitle"},[t("span",[this._v("流量卡管理")])])])}]};var p=a("VU/8")(c,d,!1,function(e){a("tjwR")},"data-v-76aa8bac",null);t.default=p.exports},tjwR:function(e,t){}});