webpackJsonp([87],{"2Z+X":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),r=s.n(a),l=(s("mw3O"),s("OMN4"),s("NYxO")),o=s("UMo0"),i={name:"equipmentList",data:function(){return{paging:{page:1,pageSize:10,total:0},search:{ticketType:"",useWay:"",use_status:""},fasl:"",tableData:[]}},mounted:function(){document.title=this.$route.meta.title,this.searchClick()},computed:r()({},Object(l.e)(["use_statuslist","usage","tickettype"])),methods:r()({},Object(l.d)(["chezhu"]),{indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},deleteClick:function(e){var t=this;console.log(e);var s=this;this.$confirm("此操作将删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o._50)("/TicketInfo/delById",{id:e.id}).then(function(e){0==e.data.resCode?(s.searchClick(),s.$message({message:"删除成功",type:"success"})):s.$message({message:"删除失败",type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},searchClick:function(){void 0===this.$route.query.mouses.car_number?this.fasl=JSON.parse(localStorage.getItem("uncharge")):this.fasl=this.$route.query.mouses,console.log(this.fasl);var e={page:this.paging.page,pageSize:this.paging.pageSize,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer"),issus_obj:this.fasl.car_number,tel:this.fasl.tel,parking_id:this.fasl.parking_id};this.search.ticketType&&(e.ticketType=this.search.ticketType),this.search.useWay&&(e.useWay=this.search.useWay),this.search.use_status&&(e.use_status=this.search.use_status);var t=this;t.tableData=[],Object(o._50)("/TicketInfo/selectTicketInfo",e).then(function(e){if(0==e.data.resCode){for(var s=0;s<e.data.result.length;s++)""==e.data.result[s].freeTime?e.data.result[s].freeTime="-":e.data.result[s].freeTime=e.data.result[s].freeTime+"分钟";t.paging.total=e.data.count,t.tableData=e.data.result}})}})},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"faultList"}},[s("div",{staticClass:"header"},[s("div",{staticClass:"headerTitle"},[s("span",[e._v("卡包")]),e._v(" "),s("router-link",{attrs:{to:"/pageHome/parkWhite"}},[s("el-button",{staticClass:"oyButton back",attrs:{type:"success"}},[e._v("返回")])],1)],1)]),e._v(" "),s("div",{staticClass:"select"},[s("span",[e._v("卡券类型：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.ticketType,callback:function(t){e.$set(e.search,"ticketType",t)},expression:"search.ticketType"}},[s("el-option",[e._v("未选择")]),e._v(" "),e._l(e.tickettype,function(e){return s("el-option",{key:e.id,attrs:{label:e.type,value:e.value}})})],2),e._v(" "),s("span",[e._v("使用方式：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.useWay,callback:function(t){e.$set(e.search,"useWay",t)},expression:"search.useWay"}},[s("el-option",[e._v("未选择")]),e._v(" "),e._l(e.usage,function(e){return s("el-option",{key:e.id,attrs:{label:e.type,value:e.value}})})],2),e._v(" "),s("span",[e._v("使用状态：")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.use_status,callback:function(t){e.$set(e.search,"use_status",t)},expression:"search.use_status"}},[s("el-option",[e._v("未选择")]),e._v(" "),e._l(e.use_statuslist,function(e){return s("el-option",{key:e.id,attrs:{label:e.type,value:e.value}})})],2),s("br"),s("br"),e._v(" "),s("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")])],1),e._v(" "),s("div",{staticClass:"Content"},[s("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[s("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"使用方式",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.useWay?s("el-tag",{attrs:{color:"#5daf34"}},[e._v(e._s(e._f("userwaytyape")(t.row.useWay)))]):e._e(),e._v(" "),2==t.row.useWay?s("el-tag",{attrs:{color:"#f8c541"}},[e._v(e._s(e._f("userwaytyape")(t.row.useWay)))]):e._e(),e._v(" "),3==t.row.useWay?s("el-tag",{attrs:{color:"#c9521e"}},[e._v(e._s(e._f("userwaytyape")(t.row.useWay)))]):e._e()],1)])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"卡券类型",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.ticketType?s("el-tag",{attrs:{color:"#5daf34"}},[e._v(e._s(e._f("cardtype")(t.row.ticketType)))]):e._e(),e._v(" "),2==t.row.ticketType?s("el-tag",{attrs:{color:"#f8c541"}},[e._v(e._s(e._f("cardtype")(t.row.ticketType)))]):e._e()],1)])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"免费时长",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.freeTime))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.freeTime))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"需满金额",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.full)+"元")]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.full)+"元")])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"减去金额",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.sub)+"元")]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.sub)+"元")])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"使用状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",[s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[1==t.row.use_status?s("el-tag",{attrs:{color:"#5daf34"}},[e._v(e._s(e._f("statusele")(t.row.use_status)))]):e._e(),e._v(" "),-1==t.row.use_status?s("el-tag",{attrs:{color:"#f8c541"}},[e._v(e._s(e._f("statusele")(t.row.use_status)))]):e._e(),e._v(" "),0==t.row.use_status?s("el-tag",{attrs:{color:"#c9521e"}},[e._v(e._s(e._f("statusele")(t.row.use_status)))]):e._e()],1)])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"卡券说明",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.remark))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.remark))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"开始时间",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.start_time))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.start_time))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"结束时间",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.end_time))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.end_time))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[s("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(s){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),s("div",{staticClass:"footer"},[s("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[1,2,3,10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1)])},staticRenderFns:[]};var n=s("VU/8")(i,c,!1,function(e){s("3q8l")},"data-v-14bce0c6",null);t.default=n.exports},"3q8l":function(e,t){}});