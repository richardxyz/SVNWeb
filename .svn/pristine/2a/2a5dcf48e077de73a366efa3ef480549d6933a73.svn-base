webpackJsonp([33],{dR6B:function(e,t){},fEzU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),l=a.n(s),o=a("mw3O"),i=a.n(o),c=a("OMN4"),r=a.n(c),n=a("UMo0"),d=a("qKYu"),u={name:"equipmentList",data:function(){return{info:{currentPage:1,pageSize:10},universal:{add:!1,change:!1},totals:0,tableData:[],search:{roleName:""},add:{roleName:"",roleDescribe:""},change:{roleName:"",roleDescribe:""},showchose:"",age:12}},mounted:function(){this.age=13,document.title=this.$route.meta.title,0!=localStorage.getItem("dealer")?this.showchose=!0:this.showchose=!1,this.searchClick()},created:function(){var e=this;d.a.$on("pageOption",function(t){e.info.currentPage=t.currentPage,e.info.pageSize=t.pageSize})},methods:{getList:function(e){this.info.currentPage=e.currentPage,this.info.pageSize=e.pageSize,this.searchClick()},indexMethod:function(e){return e+(this.info.currentPage-1)*this.info.pageSize+1},ShowHide:function(){this.universal.add=!0,this.add.roleName="",this.add.roleDescribe=""},addClick:function(){var e=this;if(""==this.add.roleName||""==this.add.roleDescribe)return this.$message.error("带*号的不能为空！"),!1;console.log(this.add);var t=this.add;Object(n._50)("/role/add",t).then(function(t){0==t.data.resCode?(e.searchClick(),e.$message({type:"success",message:"添加成功"})):e.$message({type:"error",message:"添加失败"})}),this.universal.add=!1},deleteClick:function(e){var t=this;console.log(e);var a=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.roleId;console.log(t),Object(n._50)("/role/delete",{roleId:e.roleId}).then(function(e){0==e.data.resCode?(a.$message({type:"success",message:"删除成功"}),a.searchClick()):a.$message({type:"error",message:"删除失败"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},changeShow:function(e){this.universal.change=!0,this.change=l()({},e),console.log(e)},hideclick:function(){this.universal.change=!1},changeClick:function(){var e=this;if(""==this.change.roleName||""==this.change.roleDescribe)return this.$message.error("带*号的不能为空！"),!1;console.log(this.change);var t=this.change;Object(n._50)("/role/update",t).then(function(t){0==t.data.resCode?(e.$message({type:"success",message:"修改成功"}),e.searchClick()):e.$message({type:"error",message:"修改失败"})}),this.universal.change=!1},searchClick:function(){var e={Page:this.info.currentPage,PageSize:this.info.pageSize,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")};this.search.roleName&&(e.roleName=this.search.roleName),console.log(e);var t=this;t.tableData=[],r()({method:"post",url:t.$store.state.url+"/role/findAll",data:i.a.stringify(e)}).then(function(e){console.log(e.data),0==e.data.resCode?(t.totals=e.data.count,t.tableData=e.data.result):t.tableData=[]})}},components:{pageSize:a("IYcQ").default}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addRole"}},[e._m(0),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("用户类型：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.roleName,callback:function(t){e.$set(e.search,"roleName",t)},expression:"search.roleName"}})],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showchose,expression:"showchose"}],staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.ShowHide}},[e._v("添加")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户类型",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.roleName))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.roleName))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"角色描述",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.roleDescribe))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.roleDescribe))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("i",{staticClass:"icon-change el-icon-edit",on:{click:function(a){e.changeShow(t.row)}}})]),e._v(" "),1==t.row.userTypeId?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"icon-unclick el-icon-delete"})]):a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("i",{staticClass:"icon-delete el-icon-delete",on:{click:function(a){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增",visible:e.universal.add},on:{"update:visible":function(t){e.$set(e.universal,"add",t)}}},[a("div",[a("span",{staticClass:"spanClass"},[a("span",{staticClass:"aKey"},[e._v("*")]),e._v("用户类型：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.add.roleName,callback:function(t){e.$set(e.add,"roleName",t)},expression:"add.roleName"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[a("span",{staticClass:"aKey"},[e._v("*")]),e._v("用户类型描述：")]),e._v(" "),a("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:e.add.roleDescribe,callback:function(t){e.$set(e.add,"roleDescribe",t)},expression:"add.roleDescribe"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[e._v("备注：")]),e._v(" "),a("div",{staticClass:"little"},[e._v(e._s(this.$store.state.size))])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:function(t){e.universal.add=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.addClick}},[e._v("添加")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改",visible:e.universal.change},on:{"update:visible":function(t){e.$set(e.universal,"change",t)}}},[a("div",[a("span",{staticClass:"spanClass"},[a("span",{staticClass:"aKey"},[e._v("*")]),e._v("用户类型：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.change.roleName,callback:function(t){e.$set(e.change,"roleName",t)},expression:"change.roleName"}}),a("br"),a("br"),e._v(" "),a("span",{staticClass:"spanClass"},[a("span",{staticClass:"aKey"},[e._v("*")]),e._v("用户类型描述：")]),e._v(" "),a("el-input",{staticClass:"textareaWidth",attrs:{type:"textarea",rows:5,clearable:"",placeholder:"请输入内容"},model:{value:e.change.roleDescribe,callback:function(t){e.$set(e.change,"roleDescribe",t)},expression:"change.roleDescribe"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.hideclick}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"oyButton",attrs:{type:"success"},on:{click:e.changeClick}},[e._v("修改")])],1)]),e._v(" "),a("div",{staticClass:"footer"},[a("pageSize",{attrs:{messages:e.totals},on:{code:e.getList}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerTitle"},[t("span",[this._v("添加角色")])])])}]};var v=a("VU/8")(u,h,!1,function(e){a("dR6B")},"data-v-983ce298",null);t.default=v.exports}});