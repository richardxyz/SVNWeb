webpackJsonp([28],{"6XEH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),o=a("exGp"),n=a.n(o),r=a("bOdI"),c=a.n(r),l=(a("mw3O"),a("mtWM"),a("Au9i")),h=a("UMo0"),u={name:"card",data:function(){var t;return t={plate:[],keyb:"",txtboardshow:!0,numboardshow:!1,keyshow:!1,mleft:0,tips:"",cartxt:[["京","津","渝","沪","冀","晋","辽","吉","黑","苏"],["浙","皖","闽","赣","鲁","豫","鄂","湘","粤","琼"],["川","贵","云","陕","甘","青","蒙","桂","宁","新"],["藏","使","领","警","学","港","澳"]],numtxt:[["1","2","3","4","5","6","7","8","9","0"],["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],a:"",kuaile:0,b:"",parameter:0,show:!1,card:0},c()(t,"a",["","","","","","",""]),c()(t,"b",["","","","","","","",""]),c()(t,"hide",1),c()(t,"code",4),c()(t,"carnumber",2),c()(t,"slots",[{values:["普通车牌","新能源车牌"]}]),c()(t,"changenumber",""),c()(t,"lplcar",""),c()(t,"options",[{label:"普通车牌",value:1},{label:"新能源车牌",value:2}]),c()(t,"duration",0),t},beforeRouteLeave:function(t,e,a){"card"==e.name&&"login"==t.name&&a({path:"/card"}),a()},watch:{},created:function(){var t=window.location.href.split("?")[1];localStorage.setItem("phone",t),localStorage.setItem("tel",t)},methods:{shanchu:function(){0==this.duration?(console.log(this.kuaile),this.plate.splice(this.kuaile,1,""),this.kuaile--,this.kuaile<0&&(this.kuaile=0,this.txtboardshow=!0,this.numboardshow=!1)):(this.plate.splice(this.kuaile,1,""),this.kuaile--,this.kuaile<0&&(this.kuaile=0,this.txtboardshow=!0,this.numboardshow=!1))},chose:function(t,e){this.kuaile=e,this.hide=1,e>0?(this.txtboardshow=!1,this.numboardshow=!0):(this.txtboardshow=!0,this.numboardshow=!1)},txtclick:function(t,e,a){if(this.txtboardshow=!1,this.numboardshow=!0,0==this.duration){if(this.kuaile>6)return this.txtboardshow=!1,this.numboardshow=!1,!1;this.plate.splice(this.kuaile,1,t)}else{if(this.kuaile>7)return this.txtboardshow=!1,this.numboardshow=!1,!1;this.plate.splice(this.kuaile,1,t)}this.kuaile++},selct:function(){var t=this;return n()(i.a.mark(function e(){var a,s,o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s="",(a=t).plate.forEach(function(t,e){s+=t}),console.log(s),0!=t.card){e.next=10;break}if(Object(h.m)(s)){e.next=8;break}return Object(l.MessageBox)("提示","请填写正确的车牌号码"),e.abrupt("return",!1);case 8:e.next=14;break;case 10:if(1!=t.card){e.next=14;break}if(Object(h.n)(s)){e.next=14;break}return Object(l.MessageBox)("提示","请填写正确的车牌号码"),e.abrupt("return",!1);case 14:return o={car_number:s},e.next=17,Object(h.f)(o);case 17:1==(n=e.sent).data.resCode||2==n.data.resCode?(console.log(n),localStorage.setItem("carnumber",n.data.carnumber),localStorage.setItem("longdate",n.data.longdate),localStorage.setItem("onsale_price",n.data.onsale_price),localStorage.setItem("paid_price",n.data.paid_price),localStorage.setItem("paking_lot_name",n.data.paking_lot_name),localStorage.setItem("price",n.data.price),localStorage.setItem("startdate",n.data.startdate),localStorage.setItem("time_out",n.data.time_out),localStorage.setItem("img",n.data.img),localStorage.setItem("HPrice",n.data.HPrice),localStorage.setItem("priceUnit",n.data.priceUnit),a.$router.push({path:"/carOrderPay",query:{vals:n.data}})):4==n.data.resCode?Object(l.MessageBox)("提示","未查询到有临近车牌"):Object(l.MessageBox)("提示",n.data.result);case 19:case"end":return e.stop()}},e,t)}))()},numclick:function(t,e,a){if(0==this.duration){if(this.kuaile>6)return;this.plate.splice(this.kuaile,1,t),this.kuaile++,this.kuaile>6&&(this.hide=0)}else{if(this.kuaile>7)return;this.plate.splice(this.kuaile,1,t),this.kuaile++,this.kuaile>7&&(this.hide=0)}},addCard:function(){var t=this;return n()(i.a.mark(function e(){var a,s,o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s="",(a=t).plate.forEach(function(t,e){s+=t}),console.log(s),Object(h.m)(s)){e.next=7;break}return Object(l.MessageBox)("提示","请填写正确的车牌号码"),e.abrupt("return",!1);case 7:return o={openid:a.openid,brandname:s},e.next=10,Object(h.c)(o);case 10:200==(n=e.sent).data.resCode?Object(l.MessageBox)({title:"提示",message:"添加成功",closeOnClickModal:!1}).then(function(e){console.log(e),5==t.$route.query.distinction?a.$router.push("/people/vip"):6==t.$route.query.peoplecar?a.$router.push("/people/carlist"):a.$router.push("/list")}):"500"===n.data.resCode?Object(l.MessageBox)("提示","不能重复添加相同车牌号"):Object(l.MessageBox)("提示","车牌号最多添加2个");case 12:case"end":return e.stop()}},e,t)}))()},check:function(t){this.duration=t,this.hide=1,0==t?(this.card=0,this.plate=["","","","","","",""],this.txtboardshow=!0,this.numboardshow=!1,this.kuaile=0,0==this.kuaile?(this.txtboardshow=!0,this.numboardshow=!1):(this.txtboardshow=!1,this.numboardshow=!0)):1==t&&(this.txtboardshow=!0,this.numboardshow=!1,this.card=1,this.plate=["","","","","","","",""],this.kuaile=0,0==this.kuaile?(this.txtboardshow=!0,this.numboardshow=!1):(this.txtboardshow=!1,this.numboardshow=!0))}},mounted:function(){0==this.duration?this.plate=["","","","","","",""]:this.plate=["","","","","","","",""]}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"card"}},[a("div",{staticStyle:{width:"91%","padding-top":"0.32rem",margin:"0 auto"}},[a("p",{staticStyle:{"font-size":"18px","margin-bottom":"0.16rem",color:"#303030"}},[t._v("车牌类型")]),t._v(" "),a("section",[a("div",t._l(t.options,function(e,s){return a("div",{key:e.id,class:{colorg:s==t.duration},on:{click:function(e){t.check(s)}}},[t._m(0,!0),t._v(" "),a("span",[t._v(t._s(e.label))])])}))]),t._v(" "),a("p",{staticStyle:{"font-size":"18px","margin-bottom":"0.16rem",color:"#303030","margin-top":"0.32rem"}},[t._v("车牌号码")])]),t._v(" "),0==t.card?a("div",{staticClass:"used"},t._l(t.plate,function(e,s){return a("span",{key:s,staticClass:"newsquare",class:{gactive:s==t.kuaile},on:{click:function(a){t.chose(e,s)}}},[t._v("\n      "+t._s(e)+"\n    ")])})):t._e(),t._v(" "),1==t.card?a("div",{staticClass:"used"},t._l(t.plate,function(e,s){return a("span",{key:s,staticClass:"newsquare",class:{gactive:s==t.kuaile},on:{click:function(a){t.chose(e,s)}}},[t._v("\n      "+t._s(e)+"\n    ")])})):t._e(),t._v(" "),a("div",{staticClass:"addBox"},[a("div",{staticClass:"add",on:{click:function(e){t.selct()}}},[t._v("查询缴费")])]),t._v(" "),1==t.hide?a("section",{staticClass:"pkey-keyboard"},[a("section",{staticClass:"pkey-keyscontain",staticStyle:{width:"100%"}},[a("ul",{staticClass:"keybo"},[t._l(t.cartxt,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.txtboardshow,expression:"txtboardshow"}]},[a("span",{directives:[{name:"show",rawName:"v-show",value:s==t.cartxt.length-1,expression:"index==cartxt.length-1"}],on:{click:function(e){t.txtboardshow=!1,t.numboardshow=!0}}},[t._v("ABC")]),t._v(" "),t._l(e,function(s,i){return a("label",{on:{click:function(a){t.txtclick(s,i,e.length)}}},[t._v(t._s(s))])}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s==t.cartxt.length-1,expression:"index==cartxt.length-1"}],on:{click:t.shanchu}},[t._v("删除")])],2)}),t._v(" "),t._l(t.numtxt,function(e,s){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.numboardshow,expression:"numboardshow"}]},[a("span",{directives:[{name:"show",rawName:"v-show",value:s==t.cartxt.length-1,expression:"index==cartxt.length-1"}],on:{click:function(e){t.txtboardshow=!0,t.numboardshow=!1}}},[t._v("省份")]),t._v(" "),t._l(e,function(s,i){return a("label",{on:{click:function(a){t.numclick(s,i,e.length)}}},[t._v(t._s(s))])}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s==t.cartxt.length-1,expression:"index==cartxt.length-1"}],on:{click:t.shanchu}},[t._v("删除")])],2)})],2)]),t._v(" "),a("transition",{attrs:{name:"fade"}},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.keyshow,expression:"keyshow"}],staticClass:"showkey",style:{marginLeft:t.mleft+"px"},attrs:{keyshow:t.keyshow}},[t._v(t._s(t.keyb))])])],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("i",[e("span")])}]};var p=a("VU/8")(u,d,!1,function(t){a("Euju")},"data-v-01e56eb9",null);e.default=p.exports},Euju:function(t,e){}});