{"version":3,"sources":["webpack:///./src/assets/img/device/device_list.png","webpack:///./src/views/device/deviceList.vue?8abd","webpack:///./src/views/device/deviceList.vue?2933","webpack:///src/views/device/deviceList.vue","webpack:///./src/views/device/deviceList.vue?895d","webpack:///./src/views/device/deviceList.vue","webpack:///./src/assets/img/device/add.png","webpack:///./src/assets/img/device/device_img.png"],"names":["module","exports","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_deviceList_vue_vue_type_style_index_0_id_50111530_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_deviceList_vue_vue_type_style_index_0_id_50111530_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","item","key","id","on","click","$event","lookInfo","attrs","src","alt","_v","_s","alias","add","_e","staticRenderFns","deviceListvue_type_script_lang_js_","name","[object Object]","deviceList","showInfo","$axios","get","url","encodeURIComponent","window","location","href","split","then","message","console","log","wx","config","debug","appId","data","timestamp","nonceStr","signature","jsApiList","toast","loading","forbidClick","loadingType","duration","getList","methods","that","localStorage","getItem","res","clear","code","length","$router","push","Object","ready","scanQRCode","needResult","scanType","success","result","resultStr","deviceId","substring","indexOf","path","query","val","sessionStorage","setItem","JSON","stringify","device_deviceListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","p"],"mappings":"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","file":"static/js/chunk-20491da5.263dfcfc.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAACe0lEQVRYhe2Xu2sUURjFrxIDPhADvlIoEXyAs3PvOffbMawIDvgAY+sfIKSMhMXCwqiYwgQEC7HX3s4QlIAEthFkkdVGFAuNEFcR8YGgiGEtsuI6e2d2Z51sCvPB6e45/O6d+803o5RSSkTWADgN4A6AGQCXc7ncNtXtEpF1JEsAao0iWTXG7I3zARggOUzygrX2fIzGSI6S3NIWDICrUZAGVZRSqxyeEMDXBF9U8wAG2oF5nxRkrZWoh+SDFCC/dbsdmB8tQoYcnndpYUiW2oF53iJoj8NztwOYiXZgRhJCZlwerfUuAI9TgExprde3hFFKKZLXHCHlpC4Iw7BHa20BhCQPuwQg1FrvawsickIHSU6SvEHylOd5valDVuq/KxHZaYzxlvW+GGMOAKg0dNJbAMWug4iITZgzcUCrSV4i+YjkHIBXKTQH4KaIbG5KxeInQ9wL68vg4ODGqMcYM97BbIpqVkWHMMlvLUzHHBt4kQFMzVq7OxUMyaMOmPkMYBa01lujwdMJho+e521wPKaLGcDcaroz1loN4HPMMZ5pMvzZRBHAQyxO/WcpVDHGjIdh2OMMrgPNAvhZfzSvSQ7HgXSlfN/vC4Jgeyz1Sq1UQ2GxxkhOAji5bPfGGHPd0dpl3/f74jye5/UCCAAMkTzRiereIwA2KaWUIjma8GKadoEEQbADwNMsRkJdn4wxxxWAl0kL8/l80wc1yakMQWoAasaYaqc/cVnMpiYpktUWxHTAlJcA5rsCcCVuAcknyvHjLyKHAHzIEGQBQFEVCoW1JO87FrwhuT+um0Skn+TZ+mb+RedExP+rTa21IyTvASiRnBCR/jiQpapfCiv9wp7NFckAAAAASUVORK5CYII=\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=style&index=0&id=50111530&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=style&index=0&id=50111530&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showInfo)?_c('div',{staticClass:\"deviceList\"},[_vm._m(0),_c('ul',{staticClass:\"allDeviceList\"},_vm._l((_vm.deviceList),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.lookInfo(item)}}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/device/device_img.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.alias))])])}),0),_c('div',{staticClass:\"deviceListBottom\",on:{\"click\":_vm.add}},[_c('img',{attrs:{\"src\":require(\"../../assets/img/device/add.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"添加设备\")])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('img',{attrs:{\"src\":require(\"../../assets/img/device/device_list.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(\"所有设备\")])])}]\n\nexport { render, staticRenderFns }","<!-- 设备列表 -->\r\n<template>\r\n  <div class=\"deviceList\" v-if=\"showInfo\">\r\n    <div class=\"title\"><img src=\"../../assets/img/device/device_list.png\" alt=\"\"><span>所有设备</span></div>\r\n    <ul class=\"allDeviceList\">\r\n      <li v-for=\"item in deviceList\" :key=\"item.id\" @click=\"lookInfo(item)\">\r\n        <img src=\"../../assets/img/device/device_img.png\" alt=\"\">\r\n        <span>{{item.alias}}</span>\r\n      </li>\r\n    </ul>\r\n    <div class=\"deviceListBottom\" @click=\"add\"><img src=\"../../assets/img/device/add.png\" alt=\"\"><span>添加设备</span></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\"\r\nexport default {\r\n  name: \"deviceList\",\r\n  data () {\r\n    return {\r\n      deviceList: [],\r\n      showInfo: false,\r\n    };\r\n  },\r\n\r\n  beforeCreate() {\r\n    let that = this;\r\n    this.$axios\r\n      .get(\r\n        `${this.url}/weChat/message/JSSDKTicket?url=${\r\n          encodeURIComponent(window.location.href.split(\"#\")[0])\r\n        }`\r\n      )\r\n      .then(message => {\r\n        console.log(message);\r\n        wx.config({\r\n          debug: false,\r\n          appId: message.data.data.appId,\r\n          timestamp: message.data.data.timestamp,\r\n          nonceStr: message.data.data.nonceStr,\r\n          signature: message.data.data.signature, // 必填，签名，见附录1\r\n          jsApiList: [\"scanQRCode\"]\r\n        });\r\n      });\r\n  },\r\n  created(){\r\n    Toast.loading({\r\n      message: '加载中...',\r\n      forbidClick: true,\r\n      loadingType: 'spinner',\r\n      duration: 0\r\n    });\r\n    this.getList();\r\n  },\r\n\r\n  methods: {\r\n    getList(){\r\n      let that = this;\r\n      this.$axios\r\n        .get(this.url+\"/device/dmInfo/getDeviceList?openId=\"+localStorage.getItem(\"openId\"))\r\n        .then((res) => {  \r\n          Toast.clear();  \r\n          that.showInfo = true;\r\n          console.log(res)      \r\n          if (res.data.code == 200) {\r\n            if(res.data.data.length>0){\r\n              that.deviceList = res.data.data; \r\n            }else{\r\n              that.$router.push(\"/add\");\r\n            }                    \r\n          } else {\r\n            Toast(res.data.message);\r\n          }\r\n        })\r\n    },\r\n    add(){\r\n      let that = this;\r\n      wx.ready(function() {\r\n        wx.scanQRCode({\r\n          needResult: 1, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，\r\n          scanType: [\"qrCode\", \"barCode\"], // 可以指定扫二维码还是一维码，默认二者都有\r\n          success: function(res) {\r\n            console.log(res);\r\n            let result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果\r\n            let deviceId = result.substring(result.indexOf('state=') + 6, result.indexOf('#'));                \r\n            that.$router.push({path: '/addDevice',query: {deviceId:deviceId}})               \r\n          }\r\n        });\r\n      });\r\n    },\r\n    lookInfo(val){\r\n      sessionStorage.setItem(\"deviceInfo\",JSON.stringify(val));\r\n      this.$router.push({path: \"/deviceStatus\",query: {id:val.id}});\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n  .deviceList{\r\n    padding: 24px 16px 0;\r\n    min-height: 100%;\r\n  }\r\n  .title{\r\n    font-size: 15px;\r\n    color: #303030;\r\n    margin-bottom: 12px;\r\n  }\r\n  .title>img{\r\n    height: 17px;\r\n    width: auto;\r\n    vertical-align: middle;\r\n  }\r\n  .title>span{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left: 6px;\r\n  }\r\n  .allDeviceList>li{\r\n    background: #fff;\r\n    padding: 7.5px;\r\n    font-size: 15px;\r\n    color: #303030;\r\n    margin-bottom: 12px;\r\n    border-radius: 10px;\r\n  }\r\n  .allDeviceList>li>img{\r\n    width: 75px;\r\n    height: 75px;\r\n    margin-right: 7.5px;\r\n    vertical-align: middle;\r\n  }\r\n  .allDeviceList>li>span{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n  .deviceListBottom{\r\n    text-align: center;\r\n    border: 1px solid #1466E5;\r\n    color: #1466E5;\r\n    font-size: 17px;\r\n    border-radius: 10px;\r\n    height: 90px;\r\n    line-height: 90px;\r\n  }\r\n  .deviceListBottom>img{\r\n    width: 18px;\r\n    height: 18px;\r\n    vertical-align: middle;\r\n  }\r\n  .deviceListBottom>span{\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n    margin-left: 7.5px;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviceList.vue?vue&type=template&id=50111530&scoped=true&\"\nimport script from \"./deviceList.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceList.vue?vue&type=style&index=0&id=50111530&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50111530\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAACWklEQVRYhcXXO2tUURAH8JMExEIszMwNWFnFQrQWKz+BViklEtz/7KohRjHxteThoojfwS9h1MIEQzQP8pRAUiREQXbmrIqVhZVei5Al98TKFefCheXe5c+PmfO6IbR05W1ZSc+RxLFO0YutZbV4ZZXPZwj2naA5QXMSK/thECtNCDQn0Sk3DJftzn4MQ+f8MGJ3C5WBvnXDEOJI0qZJNwyLDieVee2HgdWSyjx3wxBitYixF34Y0bGkMjNuGBZ7mIyZTTdMBhsvrDOi790wBH2SVGbFDZNJHEswS/8wPm9r/hzN2wuvevKOvWenejYOhfCHdWZvbxrN20OetzXz8n25zezk2R6AyvE8i71i6CyJTpHEKYJuMXSOoCsktkpiGwTdJtgiwz5QSd9RSbeTyvwgsWVCfWH3v7pJ0DUW2yHRGYItEHSSRecZ9XWCLRFsmmCDIYQQqO/TcYI2ktD/f1f0QuhC4zTBfrljyja42yaxVVeI6BZV9GQIIQS++uUIl7SPxQZYdJhhNa7EXka8xtDrhFglsZuEepVhj1niMMFuEGwiCV4jqZcZVsvKcYgQq1k5jjOsliHeYtH+DDaeQYc6S3aJpTHAiL1U+trd8txj2P0ixiZaDv1rzIHtwBb9MMkRgmHrfhipP0rGjN92QKJPi7PClt0wGXS00CbReTcMw+7tx3RCZ90whHg7aZPfSe/AGRg27YZhsQfJsu74eZuMGRJ744Yh6EjSppduGBYbKE7t+MwNc+Lyx8MEWyHoTxbb6brSOOuGCSGE0JN3UKnefaz/29FWo34Dj6DIvIHMpxEAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/img/device_img.d2dd7f62.png\";"],"sourceRoot":""}