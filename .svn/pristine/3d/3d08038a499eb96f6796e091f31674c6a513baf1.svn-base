webpackJsonp([1],{"0MLs":function(t,e){},"4Z5J":function(t,e){},AScp:function(t,e){},J0mU:function(t,e){},KpT4:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("fgw4"),n("QAku");var a=n("7ToB"),o=n.n(a),l=(n("KpT4"),n("nQjC")),u=n.n(l),i=(n("0MLs"),n("OlTu")),c=n.n(i),r=(n("AScp"),n("gWvt")),s=n.n(r),v=(n("J0mU"),n("GrTs")),p=n.n(v),d=n("7+uW"),m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var h=n("VU/8")({name:"App",data:function(){return{options:[{value:"选项1",label:"F262FEAA02CD"},{value:"选项2",label:"EB9FB85CB31C"},{value:"选项3",label:"C9F703ECF51F"},{value:"选项4",label:"EB9FB85CB31C"}],value:"F262FEAA02CD"}}},m,!1,function(t){n("4Z5J")},null,null).exports,f=n("/ocq"),_=n("6iV/"),g=n.n(_),b=n("aozt"),F=n.n(b),C={name:"homePage",data:function(){return{icon:"./static/image/redBike.png",myIcon:"./static/image/my.png",kbTu:"./static/image/kbTu.png",enclosure:0,options:[{value:"F262FEAA02CD",label:"F262FEAA02CD"},{value:"EB9FB85CB31C",label:"EB9FB85CB31C"},{value:"C9F703ECF51F",label:"C9F703ECF51F"},{value:"D3F7AC3F2A23",label:"D3F7AC3F2A23"}],value:"F262FEAA02CD"}},methods:{change:function(){var t=this;F()({method:"post",url:"http://39.104.99.181:8055/fence/find",data:g.a.stringify({macId:this.value})}).then(function(e){console.log(e.data),t.enclosure=e.data.RESULT})},enclosureOpen:function(){var t=this;F()({method:"post",url:"http://39.104.99.181:8055/fence/open",data:g.a.stringify({macId:this.value})}).then(function(e){console.log(e.data),t.enclosure=0})},enclosureClose:function(){var t=this;F()({method:"post",url:"http://39.104.99.181:8055/fence/close",data:g.a.stringify({macId:this.value})}).then(function(e){console.log(e.data),t.enclosure=1})},open:function(){F()({method:"post",url:"http://39.104.99.181:8055/control/up",data:g.a.stringify({macid:this.value,phone:"15770831539"})}).then(function(t){console.log(t.data)})},_touchstart:function(){document.getElementsByTagName("button")[0].style.backgroundColor="#ff2323"},_touchend:function(){document.getElementsByTagName("button")[0].style.backgroundColor="#ff4646",this.open()}},mounted:function(){document.body.addEventListener("touchstart",function(){}),document.title=this.$route.meta.title;var t=new BMap.Map("allmap"),e=new BMap.Geolocation,n=new BMap.Icon(this.icon,new BMap.Size(30,30)),a=new BMap.Icon(this.myIcon,new BMap.Size(44,44));new BMap.Icon(this.kbTu,new BMap.Size(5,5));function o(){var t=this.getPosition();console.log(t)}e.getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var l=new BMap.Point(e.point.lng,e.point.lat);t.centerAndZoom(l,15);var u=new BMap.Marker(l,{icon:a}),i=new BMap.Circle(l,800,{strokeColor:"rgba(0,0,0,0.3)",strokeWeight:1,fillColor:"rgba(0,0,0,0.3)",fillOpacity:.6});t.addOverlay(i),t.addOverlay(u);for(var c=t.getBounds(),r=c.getSouthWest(),s=c.getNorthEast(),v=Math.abs(r.lng-s.lng),p=Math.abs(s.lat-r.lat),d=[],m=0;m<25;m++){l=new BMap.Point(r.lng+v*(.7*Math.random()),s.lat-p*(.7*Math.random()));d.push(new BMap.Point(l.lng,l.lat));var h=new BMap.Marker(l,{icon:n});h.addEventListener("click",o),t.addOverlay(h)}}else alert("failed"+this.getStatus())},{enableHighAccuracy:!0}),this.change()}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"homePage"}},[n("div",{attrs:{id:"allmap"}}),t._v(" "),n("div",{attrs:{id:"select"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){t.change()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("router-link",{attrs:{to:"test"}},[n("button",{staticClass:"test"},[t._v("测试")])])],1),t._v(" "),n("div",{attrs:{id:"button"}},[n("button",{on:{click:t.open}},[t._v("立即开锁")]),t._v("\n\t\t       \n\t\t"),1==t.enclosure?n("button",{on:{click:t.enclosureOpen}},[t._v("电子围栏外")]):t._e(),t._v(" "),0==t.enclosure?n("button",{on:{click:t.enclosureClose}},[t._v("电子围栏内")]):t._e(),t._v(" "),1==t.enclosure?n("p",[t._v("当前锁处于电子围栏外，无法关锁")]):t._e(),t._v(" "),0==t.enclosure?n("p",[t._v("当前锁处于电子围栏内，可以锁上")]):t._e()])])},staticRenderFns:[]};var A=n("VU/8")(C,B,!1,function(t){n("tlbX")},"data-v-1dde1bc7",null).exports,E={name:"homePage",data:function(){return{options1:[{value:"F262FEAA02CD",label:"F262FEAA02CD"},{value:"EB9FB85CB31C",label:"EB9FB85CB31C"},{value:"C9F703ECF51F",label:"C9F703ECF51F"},{value:"D3F7AC3F2A23",label:"D3F7AC3F2A23"}],value1:"F262FEAA02CD",options2:[{value:"0",label:"自动控制"},{value:"1",label:"手动控制"}],value2:"0",input10:"15",timer:"",times:"",count:0,ts:"点击开始自动控制",countDown:0}},methods:{changes:function(){clearInterval(this.timer),clearInterval(this.times),this.ts="点击开始自动控制"},automatic:function(){this.ts="自动控制中...",this.input10<=15&&(this.input10=15),this.timeOut(this.input10)},timeOut:function(t){var e=this;e.open(),clearInterval(e.timer),clearInterval(e.times),e.timer=setInterval(function(){e.open()},1e3*t)},automaticOut:function(){this.ts="点击开始自动控制",clearInterval(this.timer),clearInterval(this.times)},openUp:function(){clearInterval(this.timer),clearInterval(this.times),this.open()},open:function(){var t=this;F()({method:"post",url:"http://39.104.99.181:8055/control/up",data:g.a.stringify({macid:this.value1,phone:"15770831539"})}).then(function(e){console.log(e),clearInterval(t.times),t.countDownT(t.input10),t.count++})},countDownT:function(t){var e=this;e.countDown=t,e.times=setInterval(function(){e.countDown--},1e3)}},mounted:function(){document.body.addEventListener("touchstart",function(){}),document.title=this.$route.meta.title}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"test"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.options1,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.changes},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.options2,function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),n("div",{staticClass:"footer"},[0==t.value2?n("p",[t._v("输入时间请不要小于15秒")]):t._e(),t._v(" "),0==t.value2?n("p",[t._v(t._s(t.ts))]):t._e(),t._v(" "),0==t.value2?n("el-input",{attrs:{type:"number",placeholder:"请输入内容",clearable:""},model:{value:t.input10,callback:function(e){t.input10=e},expression:"input10"}}):t._e(),n("br"),n("br"),t._v(" "),0==t.value2?n("el-button",{attrs:{type:"danger",round:""},on:{click:t.automatic}},[t._v("开始自动控制")]):t._e(),t._v(" "),0==t.value2?n("el-button",{attrs:{type:"danger",round:""},on:{click:t.automaticOut}},[t._v("停止自动控制")]):t._e(),t._v(" "),1==t.value2?n("el-button",{attrs:{type:"danger",round:""},on:{click:t.openUp}},[t._v("手动开锁")]):t._e()],1),t._v(" "),n("p",[t._v("控制指令发送次数："),n("span",[t._v(t._s(t.count))])]),t._v(" "),0==t.value2?n("p",[t._v("倒计时 "+t._s(t.countDown)+" 秒")]):t._e()],1)},staticRenderFns:[]};var y=n("VU/8")(E,k,!1,function(t){n("hURr")},null,null).exports;d.default.use(f.a);var w=new f.a({routes:[{path:"/",name:"homePage",component:A,meta:{title:"首页"}},{path:"/test",name:"test",component:y,meta:{title:"测试"}}]});d.default.config.productionTip=!1,d.default.component(p.a.name,p.a),d.default.component(s.a.name,s.a),d.default.component(c.a.name,c.a),d.default.component(u.a.name,u.a),d.default.component(o.a.name,o.a),new d.default({el:"#app",router:w,components:{App:h},template:"<App/>"})},QAku:function(t,e){},fgw4:function(t,e){},hURr:function(t,e){},tlbX:function(t,e){}},["NHnr"]);