webpackJsonp([34],{MnPq:function(e,t){},svT1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),l=a.n(s),r=a("mw3O"),o=a.n(r),i=a("OMN4"),n=a.n(i),c={name:"equipmentList",data:function(){return{address:1,tableData:this.$store.state.tableData,paging:{page:1,pageSize:10,total:0},universal:{look:!1},search:{tercept:"",onoffline:"",id:""},online:[{value:1,type:"在线"},{value:2,type:"离线"}],affiliation:[{value:1,type:"美旅"},{value:2,type:"博实"},{value:3,type:"任马停"}]}},mounted:function(){document.title=this.$route.meta.title,this.map=new BMap.Map("allmap"),this.geoc=new BMap.Geocoder,this.searchClick(),console.log(this.randomNum())},methods:{uploadFile:function(e){var t=new FormData;t.append("excelFile",e);e=t;console.log(e),n()({method:"post",url:this.$store.state.http+"/viccid/importExcels",data:e}).then(function(e){console.log(e)})},randomNum:function(){return parseInt(50*Math.random())},indexMethod:function(e){return e+(this.paging.page-1)*this.paging.pageSize+1},handleSizeChange:function(e){this.paging.pageSize=e,this.searchClick()},handleCurrentChange:function(e){this.searchClick()},addClick:function(){},deleteClick:function(e){},changeShow:function(e){var t={page:this.paging.page,pageSize:this.paging.pageSize};this.universal.look=!0,n()({method:"post",url:this.$store.state.http+"/repMsg/repMsgHistory",data:o.a.stringify(t)}).then(function(e){console.log(e.data),e.data.resCode})},changeClick:function(){},searchClick:function(){var e={page:this.paging.page,pageSize:this.paging.pageSize,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")};this.address=0,this.search.tercept&&("美旅"==this.search.tercept?e.tercept="01":"博实"==this.search.tercept?e.tercept="02":"任马停"==this.search.tercept&&(e.tercept="03")),this.search.onoffline&&("离线"==this.search.onoffline?this.search.onoffline=0:"在线"==this.search.onoffline&&(this.search.onoffline=1)),this.search.id&&(e.id=this.search.id),console.log(e);var t=this;t.tableData=[],n()({method:"post",url:this.$store.state.http+"/parking/list",data:o.a.stringify(e)}).then(function(e){if(console.log(e.data),0==e.data.resCode){for(var a=0;a<e.data.results.length;a++)e.data.results[a].hdate.time=t.common.timeToDate(l()(e.data.results[a].hdate.time).slice(0,10));for(var s=0;s<e.data.results.length;s++)1==e.data.results[s].onoffline?e.data.results[s].onoffline="在线":0==e.data.results[s].onoffline&&(e.data.results[s].onoffline="离线"),1==e.data.results[s].date?e.data.results[s].date="下降":0==e.data.results[s].date&&(e.data.results[s].date="上升");t.paging.total=e.data.count,t.tableData=e.data.results,console.log(t.tableData)}else t.tableData=[]})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"offReport"}},[e._m(0),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("归属客户：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.tercept,callback:function(t){e.$set(e.search,"tercept",t)},expression:"search.tercept"}},[a("el-option",[e._v("未选择")]),e._v(" "),e._l(e.affiliation,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.type}})})],2),e._v(" "),a("span",[e._v("设备编号：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.search.id,callback:function(t){e.$set(e.search,"id",t)},expression:"search.id"}}),e._v(" "),a("span",[e._v("在线离线：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.onoffline,callback:function(t){e.$set(e.search,"onoffline",t)},expression:"search.onoffline"}},[a("el-option",[e._v("未选择")]),e._v(" "),e._l(e.online,function(e){return a("el-option",{key:e.id,attrs:{label:e.type,value:e.type}})})],2)],1),e._v(" "),a("div",{staticClass:"select"},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.searchClick}},[e._v("查询")]),e._v(" "),a("el-upload",{staticClass:"upload-demo demoele",attrs:{action:"","before-upload":e.uploadFile,"on-success":e.handleAvatarSuccess,multiple:"",limit:1,"on-exceed":e.handleExceed}},[a("el-button",{staticClass:"oyButton",attrs:{type:"success",icon:"el-icon-download"}},[e._v("导入")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"查看",visible:e.universal.look},on:{"update:visible":function(t){e.$set(e.universal,"look",t)}}},[a("div",[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.idtable1}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.number))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.number))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.deviceld))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.deviceld))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"故障名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.protocol))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.protocol))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"维修时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.sim))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.sim))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"来源"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.date.time))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.date.time))])])])]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"Content"},[a("el-table",{staticClass:"oyTable",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{label:"归属客户",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.placeBe))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.placeBe))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"设备类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.modes))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.modes))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"设备型号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.alias))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.alias))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"设备编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.id))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.id))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"安装地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v("杭州市江干区越秀维多利中心B幢7层")]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v("杭州市江干区越秀维多利中心B幢7层")])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"设备状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.date))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.date))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"在线离线"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.onoffline))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.onoffline))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.type))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.type))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"安装时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",{staticClass:"TsMaxWidth"},[e._v(e._s(t.row.hdate.time))]),e._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"overflowHide"},[e._v(e._s(t.row.hdate.time))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"历史记录",placement:"top"}},[a("i",{staticClass:"icon-change el-icon-time",on:{click:function(a){e.changeShow(t.row)}}})]),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"地图定位",placement:"top"}},[a("i",{staticClass:"icon-delete el-icon-location",on:{click:function(a){e.deleteClick(t.row)}}})])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"footer"},[a("el-pagination",{attrs:{background:"","current-page":e.paging.page,"page-sizes":[10,11,12],"page-size":e.paging.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.paging.total},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange,"update:currentPage":function(t){e.$set(e.paging,"page",t)}}})],1),e._v(" "),a("div",{attrs:{id:"allmap"}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("div",{staticClass:"headerTitle"},[t("span",[this._v("设备列表")])])])}]};var d=a("VU/8")(c,p,!1,function(e){a("MnPq")},"data-v-93c59976",null);t.default=d.exports}});