{"version":3,"sources":["webpack:///./src/views/login/index.vue?d9a0","webpack:///./src/views/login/index.vue?15b4","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?5b56","webpack:///./src/views/login/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_749aa721_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_749aa721_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","phone","pattern","code","t","click","sendab","_s","val","staticStyle","background","textsend","bindPhone","staticRenderFns","loginvue_type_script_lang_js_","[object Object]","computed","Object","vuex_esm","methods","toast","myreg","test","that","time","setInterval","clearInterval","data","phoneNumber","url","console","log","$axios","get","then","res","message","openId","localStorage","getItem","post","JSON","stringify","setItem","$route","query","deviceId","$router","push","path","views_loginvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/js/chunk-17bc90b8.80f43feb.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=749aa721&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=749aa721&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index\"},[_c('div',{staticClass:\"indexTop\"},[_c('div',{staticClass:\"font\"},[_vm._v(\"手机号\")]),_c('div',{staticClass:\"phone\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phone),expression:\"phone\"}],attrs:{\"type\":\"text\",\"name\":\"\",\"placeholder\":\"请输入手机号码\"},domProps:{\"value\":(_vm.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phone=$event.target.value}}})]),_c('div',{staticClass:\"fontCode\"},[_vm._v(\"验证码\")]),_c('div',{staticClass:\"codeNumber\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.code),expression:\"code\"}],attrs:{\"type\":\"number\",\"pattern\":\"\\\\d*\",\"placeholder\":\"请输入验证码\"},domProps:{\"value\":(_vm.code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.code=$event.target.value}}}),(this.t=='')?_c('div',{staticClass:\"code\",on:{\"click\":_vm.sendab}},[_vm._v(_vm._s(_vm.val))]):_c('div',{staticClass:\"code\",staticStyle:{\"background\":\"#c0c0c0\"}},[_vm._v(_vm._s(_vm.textsend))])])]),_c('div',{staticClass:\"login\"},[_c('div',{on:{\"click\":_vm.bindPhone}},[_vm._v(\"立即登录\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"index\">\n    <div class=\"indexTop\">\n      <div class=\"font\">手机号</div>\n      <div class=\"phone\">\n        <input type=\"text\" name=\"\" v-model='phone' placeholder=\"请输入手机号码\">\n      </div>\n      <div class=\"fontCode\">验证码</div>\n      <div class=\"codeNumber\">\n        <input type=\"number\" pattern=\"\\d*\" v-model='code' placeholder=\"请输入验证码\">\n        <div class=\"code\" @click=\"sendab\" v-if=\"this.t==''\">{{val}}</div>\n        <div class=\"code\" v-else style=\"background: #c0c0c0;\">{{textsend}}</div>\n        <!-- <div class=\"code\" :class=\"{'colordisplay':display}\" @click=\"sentPhone\">{{sentWord}}</div> -->\n      </div>\n    </div>\n    <div class=\"login\">\n      <div @click=\"bindPhone\">立即登录</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport axios from \"axios\"\nimport qs from \"qs\";\nimport { Toast } from \"vant\"\n\nexport default {\n  name: \"add\",\n  data() {\n    return {\n      phone: \"\",\n      code: \"\",\n      val: \"发送验证码\",\n      t: \"\",\n      textsend: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"url\"])\n  },  \n  methods: {\n    async sendab() {\n      if (this.phone == \"\") {\n        Toast(\"请输入手机号\");\n        return false;\n      }\n      let myreg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n      if (!myreg.test(this.phone)) {\n        Toast(\"请输入正确手机号\");\n        return false;\n      }\n      let that = this;\n      that.textsend = \"剩余\" + 60 + \"s\";\n      let time = 59;\n      that.t = setInterval(function() {\n        if (time <= 0) {\n          clearInterval(that.t);\n          that.t = \"\";\n          that.val = \"重新发送\";\n        } else {\n          that.textsend = \"剩余\" + time-- + \"s\";\n        }\n      }, 1000);\n      let data = {\n        phoneNumber: that.phone\n      };\n      let url = this.url + \"/weChat/message/code\";\n      console.log(data);\n      this.$axios\n        .get(this.url+\"/weChat/message/code?phoneNumber=\"+this.phone)\n        .then((res) => {    \n          console.log(res)      \n          if (res.data.code == 200) {\n            Toast(\"短信发送成功\");            \n          } else {\n            Toast(res.data.message);\n          }\n        })\n    },   \n    bindPhone() {\n      if (this.phone == \"\") {\n        Toast(\"请输入手机号\");\n        return;\n      }\n      let myreg = /^[1][3,4,5,7,8,9][0-9]{9}$/;\n      if (!myreg.test(this.phone)) {\n        Toast(\"请输入正确手机号\");\n        return;\n      }      \n      if (this.code == \"\") {\n        Toast(\"请输入验证码\");\n        return;\n      }\n      let data = {\n        phoneNumber: this.phone,\n        openId: localStorage.getItem(\"openId\"),\n        code: this.code\n      };\n      let url = this.url + \"/weChat/message/register\";\n      console.log(data);\n      this.$axios.post(url,JSON.stringify(data)).then((res)=>{\n        console.log(res);\n        if(res.data.code==200){\n          localStorage.setItem(\"phone\",this.phone);\n          if(this.$route.query.deviceId){\n            that.$router.push({path: '/addDevice',query: {deviceId:this.$route.query.deviceId}})\n          }else{\n            this.$router.push(\"/deviceList\");\n          }          \n        }else{\n          Toast(res.data.message);\n        }\n      })\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style  scoped>\n.index {\n  width: 100%;\n  min-height: 100%;\n  /*@extend .fontSet;*/\n  overflow: hidden;\n}\n.indexTop{\n  padding: 88px 28px 0;\n}\n.font, .fontCode {\n  margin-bottom: 18px;\n  font-size: 13px;\n  color: #303030;\n}\n.phone {  \n  padding-bottom: 12px;\n  border-bottom: 1px solid #ececec;\n}\n.phone input {\n  width: 100%;\n  height: 20px;\n  font-size: 17px;\n  outline: none;\n  border: 0;\n  background: #F2F2F2;\n  color: #999;\n}\n.fontCode{\n  margin-top: 23px;\n}\n.codeNumber{\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #ececec;\n}\n.codeNumber input{\n  height: 20px;\n  font-size: 17px;\n  outline: none;\n  border: 0;\n  background: #F2F2F2;\n  color: #999;\n}\n.code {\n  width: 78px;\n  height: 24px;\n  border-radius: 12px;\n  background: #146de5;\n  color: #fff;\n  text-align: center;\n  line-height: 24px;\n  font-size: 13px;\n}\n.login {\n  padding: 0 16px;\n  margin-top: 52px;\n}\n.login>div{\n  text-align: center;\n  font-size: 17px;\n  color: #fff;\n  height: 44px;\n  line-height: 44px;\n  background: #146de5;\n  border-radius: 22px;\n}\n::-webkit-input-placeholder { \n  color: #999;\n  font-size: 17px;\n}\n:-moz-placeholder { \n  color: #999;\n  font-size: 17px;\n}\n::-moz-placeholder { \n  color: #999;\n  font-size: 17px;\n}\n:-ms-input-placeholder { \n  color: #999;\n  font-size: 17px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=749aa721&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=749aa721&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"749aa721\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}