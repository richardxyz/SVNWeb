webpackJsonp([90],{"99Pr":function(e,a){},HPk6:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("gRE1"),n=t.n(r),s=t("Xxa5"),i=t.n(s),o=t("fZjL"),c=t.n(o),l=t("exGp"),d=t.n(l),u=t("Dd8w"),g=t.n(u),h=(t("mw3O"),t("OMN4"),t("Pg0u")),p=t.n(h),m=t("NYxO"),y=t("UMo0"),f={name:"pageIndex",data:function(){return{carnumrtype:[],todaycar1:[],todaycar4:[],dataChose:[{label:"当日",id:1},{label:"当周",id:2},{label:"当月",id:3},{label:"当年",id:4}],moneyorder:[{label:"正常进场单",id:1},{label:"预约进场单",id:2},{label:"全部",id:0}],search:{parking_id:"",id:1,isOrdered:1},searchs:{parking_id:"",id:1,isOrdered:1},alis:"",municipal:0,resident:0,business:0,parik:0,commerce:0,other:0,traffic:0,agricul:0,table:[],feel:0,apliay:0,wechat:0,cash:0,tequ:0,empty:0,one:0,two:0,three:0,four:0,five:0,six:0,seven:0,eight:0,nine:0,ten:0,eleven:0,twelve:0,num:{AbnorCount:"",cheCount:"",count:"",encloseCount:""},sanitation:"",landscaping:"",watercom:"",firemaster:"",paging:{page:1,pageSize:10,total:""},arrays4:[],x:0,y:0,twotime:"",tableDatap:"",tableData:[],xAxis19:[],series18:[],arr:[],arr2:[],value15:"",value16:"",parkid:"",numtotals:"",array1:"",array2:"",array3:"",arrays1:"",arrays2:"",arrays3:"",akeabn:"",akeabns:"",locktool:[],userlogininfo:[]}},watch:{messArray_get:function(e){console.log(e);for(var a=0;a<e.length;a++)3==e[a].parking_lot_type?this.municipal+=1:1==e[a].parking_lot_type?this.resident+=1:2==e[a].parking_lot_type?this.business+=1:4==e[a].parking_lot_type?this.parik+=1:5==e[a].parking_lot_type?this.commerce+=1:6==e[a].parking_lot_type?this.other+=1:7==e[a].parking_lot_type?this.traffic+=1:this.agricul+=1;this.table=[this.municipal,this.resident,this.business,this.parik,this.commerce,this.other,this.traffic,this.agricul],console.log(this.table),this.draw()}},computed:g()({},Object(m.e)(["parkingtitle","typepayLIST","ONEreslist","totals"]),Object(m.e)({namegate:function(e){return e.gate.gatelistcount}}),Object(m.c)(["messArray_get","listup"])),methods:g()({},Object(m.b)(["Alipay","typepays","facility","initParkingDevList","gatepeople","locktotal"]),{changeMoney:function(e){var a=this;return d()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:e,type:a.search.id,time:a.common.obtainnewtime().slice(0,10),parkingId:a.parkid}).then(function(e){var t=a;console.log(e),t.array3=[],t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=[],1==a.search.id?t.arrays4=["当日"]:2==a.search.id?t.arrays4=["当周"]:3==a.search.id?t.arrays4=["当月"]:4==a.search.id&&t.arrays3.reverse().forEach(function(e,a){t.arrays4.push(e)})});case 2:console.log(a.array3),console.log(a.arrays4),a.draw2();case 5:case"end":return t.stop()}},t,a)}))()},changeTime:function(e){var a=this;return d()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0==e&&(e=1),t.next=3,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:a.search.isOrdered,type:e,time:a.common.obtainnewtime().slice(0,10),parkingId:a.search.parking_id}).then(function(e){var t=a;console.log(e),t.array3=[],t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=[],1==a.search.id?t.arrays4=["当日"]:2==a.search.id?t.arrays4=["当周"]:3==a.search.id?t.arrays4=["当月"]:4==a.search.id&&t.arrays3.reverse().forEach(function(e,a){t.arrays4.push(e)})});case 3:if(console.log(a.array3),console.log(a.arrays4),a.draw2(),console.log(e),r=2==e||3==e?{type:e,parkingId:a.search.parking_id}:{type:e,time:a.common.obtainnewtime().slice(0,10),parkingId:a.search.parking_id},1!=e){t.next=13;break}return t.next=11,Object(y._50)("/ISVEnterOut/countEnterOut",r).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),console.log(a.todaycar1),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1])});case 11:t.next=26;break;case 13:if(2!=e){t.next=18;break}return t.next=16,Object(y._50)("/ISVEnterOut/countEnterOut",r).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1])});case 16:t.next=26;break;case 18:if(3!=e){t.next=23;break}return t.next=21,Object(y._50)("/ISVEnterOut/countEnterOut",r).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1])});case 21:t.next=26;break;case 23:if(4!=e){t.next=26;break}return t.next=26,Object(y._50)("/ISVEnterOut/countEnterOut",r).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar4=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1])});case 26:a.draw5(),a.draw8();case 28:case"end":return t.stop()}},t,a)}))()},changebarriesTime:function(e){var a=this;return d()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,a)}))()},change:function(e){var a=this;return d()(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=a).parkid=e,""!=a.search.id&&3!=a.search.id){t.next=8;break}return t.next=5,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:a.search.isOrdered,type:3,time:r.common.obtainnewtime().slice(0,10),parkingId:r.search.parking_id}).then(function(e){var t=a;console.log(e),t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=["当月"]});case 5:a.draw2(),t.next=30;break;case 8:if(2!=a.search.id){t.next=16;break}return t.next=11,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:a.search.isOrdered,type:2,time:a.common.obtainnewtime().slice(0,10),parkingId:r.search.parking_id}).then(function(e){var t=a;console.log(e),t.array3=[],t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=["当周"]});case 11:console.log(a.array3),console.log(a.arrays4),a.draw2(),t.next=30;break;case 16:if(1!=a.search.id){t.next=24;break}return t.next=19,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:a.search.isOrdered,type:1,time:a.common.obtainnewtime().slice(0,10),parkingId:r.search.parking_id}).then(function(e){var t=a;console.log(e),t.array3=[],t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=["当日"]});case 19:console.log(a.array3),console.log(a.arrays4),a.draw2(),t.next=30;break;case 24:if(4!=a.search.id){t.next=30;break}return t.next=27,Object(y._50)("/bills/getPointBillsIncome",{isOrdered:a.search.isOrdered,type:4,time:a.common.obtainnewtime().slice(0,10),parkingId:r.search.parking_id}).then(function(e){var t=a;console.log(e),t.array3=[],t.array3=c()(e.data.result).map(function(a){return e.data.result[a]}),t.array3=t.array3.reverse(),t.arrays3=c()(e.data.result),t.arrays4=[],t.arrays3.reverse().forEach(function(e,a){t.arrays4.push(e)})});case 27:console.log(a.array3),console.log(a.arrays4),a.draw2();case 30:if(console.log(e),console.log(a.search.id),3!=a.search.id){t.next=37;break}return t.next=35,Object(y._50)("/ISVEnterOut/countEnterOut",{type:3,parkingId:a.search.parking_id}).then(function(e){console.log(e),a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1]),a.draw5(),a.draw8()});case 35:t.next=50;break;case 37:if(2!=a.search.id){t.next=42;break}return t.next=40,Object(y._50)("/ISVEnterOut/countEnterOut",{type:2,parkingId:a.search.parking_id}).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1]),a.draw5(),a.draw8()});case 40:t.next=50;break;case 42:if(""!=a.search.id&&1!=a.search.id){t.next=47;break}return t.next=45,Object(y._50)("/ISVEnterOut/countEnterOut",{type:1,time:a.common.obtainnewtime().slice(0,10),parkingId:a.search.parking_id}).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar1=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1]),a.draw5(),a.draw8()});case 45:t.next=50;break;case 47:if(4!=a.search.id){t.next=50;break}return t.next=50,Object(y._50)("/ISVEnterOut/countEnterOut",{type:4,time:a.common.obtainnewtime().slice(0,10),parkingId:a.search.parking_id}).then(function(e){a.carnumrtype=c()(e.data.resMsg[0]),a.todaycar4=n()(e.data.resMsg[0]),n()(e.data.resMsg[2]).length&&(a.akeabn=n()(e.data.resMsg[2])[0][1],a.akeabns=n()(e.data.resMsg[2])[1][1]),a.draw5(),a.draw8()});case 50:case"end":return t.stop()}},t,a)}))()},draw:function(){var e=p.a.init(document.getElementById("cake")),a={title:{text:"",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",data:["浙江","上海","成都","北京","郑州"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.resident,name:"居民小区"},{value:this.municipal,name:"路测停车"},{value:this.business,name:"商圈停车场"},{value:this.parik,name:"公园景点"},{value:this.commerce,name:"商务楼宇"},{value:this.other,name:"其它"},{value:this.traffic,name:"交通枢纽"},{value:this.agricul,name:"市政设施"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.setOption(a)},draw1:function(){var e=p.a.init(document.getElementById("column")),a={xAxis:{type:"category",data:["支付宝支付","微信支付","无感支付","现金支付","特权","免费"]},tooltip:{trigger:"axis"},yAxis:{type:"value",axisLabel:{formatter:"{value}单"}},legend:{},toolbox:{feature:{}},series:[{data:[this.apliay,this.wechat,this.feel,this.cash,this.tequ],type:"bar"}]};e.setOption(a)},draw8:function(){p.a.init(document.getElementById("carnumberguil")).setOption({title:{text:"停车场道闸进场统计",subtext:"车位锁",x:"right"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["进场","出场"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.akeabn,name:"进场"},{value:this.akeabns,name:"出场"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},draw3:function(){p.a.init(document.getElementById("carnumberlock")).setOption({title:{text:"停车场车位统计图",subtext:"车位锁",x:"right"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["剩余车位","已占用车位","车位锁离线","车位锁异常"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:this.locktool,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},draw4:function(){p.a.init(document.getElementById("userlogin")).setOption({title:{text:"注册渠道统计图",x:"right"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["速利物联","车口袋"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:this.userlogininfo,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},draw2:function(){var e=p.a.init(document.getElementById("line")),a={title:{text:"停车费用查询",left:"center"},tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{}},xAxis:[{type:"category",boundaryGap:!0,data:this.arrays4,axisLabel:{interval:0,rotate:40}}],yAxis:{type:"value",axisLabel:{formatter:"{value}元"}},series:[{name:"当天",type:"bar",data:this.array1},{name:"最近一周",type:"bar",data:this.array2},{name:"当天收入",type:"bar",data:this.array3}]};e.setOption(a)},draw5:function(){console.log(this.todaycar1);var e=p.a.init(document.getElementById("linebarrier")),a={title:{text:"停车类型统计",left:"center"},tooltip:{trigger:"axis"},legend:{left:"left"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{}},xAxis:[{type:"category",boundaryGap:!0,data:["永久免费","限时车","储值车","临时车","年租车","季租车","月租车"],axisLabel:{interval:0,rotate:40}}],yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{type:"bar",data:[this.todaycar1[8],this.todaycar1[10],this.todaycar1[12],this.todaycar1[14],this.todaycar1[16],this.todaycar1[18],this.todaycar1[20]]}]};e.setOption(a)}}),mounted:function(){var e=this;this.search.parking_id,Object(y._40)().then(function(a){e.locktool.push({name:"剩余车位",value:a.data.count1},{name:"已占用车位",value:a.data.count2},{name:"车位锁离线",value:a.data.count3},{name:"车位锁异常",value:a.data.count4}),e.draw3()}),Object(y._67)().then(function(a){console.log(a),e.userlogininfo.push({name:"速利物联",value:a.data.type2.count},{name:"车口袋",value:a.data.type1.count}),e.draw4()}),document.title=this.$route.meta.title,this.draw5();var a={pageSize:this.paging.pageSize,page:this.paging.page};this.initParkingDevList(a);var t={page:1,pageSize:100,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")};this.gatepeople(t),this.Alipay(t),this.locktotal({pageSize:0,page:1}),this.change(),this.changeTime();for(var r=this.ONEreslist,n=0;n<r.length;n++)3==r[n].parking_lot_type?this.municipal+=1:1==r[n].parking_lot_type?this.resident+=1:2==r[n].parking_lot_type?this.business+=1:4==r[n].parking_lot_type?this.parik+=1:5==r[n].parking_lot_type?this.commerce+=1:6==r[n].parking_lot_type?this.other+=1:7==r[n].parking_lot_type?this.traffic+=1:this.agricul+=1;this.table=[this.municipal,this.resident,this.business,this.parik,this.commerce,this.other,this.traffic,this.agricul],console.log(this.table),this.draw();var s=this;Object(y._50)("/feeOrder/orders",{page:1,pageSize:10,is_del:0,userId:localStorage.getItem("userId"),dealer:localStorage.getItem("dealer")}).then(function(e){if(0==e.data.resCode){console.log(e);e.data.result;s.draw1()}});p.a.init(document.getElementById("radar")).setOption({title:{text:""},tooltip:{},legend:{},radar:{name:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[{name:"周一",max:250},{name:"周二",max:250},{name:"周三",max:250},{name:"周四",max:250},{name:"周五",max:250},{name:"周六",max:250},{name:"周日",max:250}]},series:[{name:"",type:"radar",data:[{value:[120,132,101,134,90,230,210],name:""}]}]})}},b={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"contrainer"},[t("div",{staticStyle:{width:"90%",margin:"0 auto","padding-top":"40px"}},[t("span",[e._v("停车场名称：")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择",value:"速利停车场"},on:{change:e.change},model:{value:e.search.parking_id,callback:function(a){e.$set(e.search,"parking_id",a)},expression:"search.parking_id"}},[t("el-option",{key:"",attrs:{value:"9",label:"维多利停车场"}}),e._v(" "),e._l(e.messArray_get,function(e){return t("el-option",{key:e.id,attrs:{label:e.parking_name,value:e.parking_id}})})],2),e._v(" "),t("span",[e._v("停车收入：")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeMoney},model:{value:e.search.isOrdered,callback:function(a){e.$set(e.search,"isOrdered",a)},expression:"search.isOrdered"}},e._l(e.moneyorder,function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),e._v(" "),t("span",[e._v("时间选择：")]),e._v(" "),t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeTime},model:{value:e.search.id,callback:function(a){e.$set(e.search,"id",a)},expression:"search.id"}},[t("el-option",{attrs:{value:""}},[e._v("未选择")]),e._v(" "),e._l(e.dataChose,function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})],2)],1),e._v(" "),t("el-row",{staticClass:"fa",staticStyle:{"padding-top":"50px","margin-bottom":"20px"}},[t("el-col",{staticStyle:{background:"#fff"},attrs:{span:12}},[t("div",{attrs:{id:"line"}})]),e._v(" "),t("el-col",{staticStyle:{background:"#e9e9e9",width:"3%",height:"350px"},attrs:{span:4}}),e._v(" "),t("el-col",{staticStyle:{background:"#fff"},attrs:{span:8}},[t("div",{style:{width:"100%",height:"350px"},attrs:{id:"carnumberlock"}})])],1),e._v(" "),t("el-row",{staticClass:"fa"},[t("el-col",{staticStyle:{background:"#fff"},attrs:{span:12}},[t("div",{staticStyle:{width:"90%",margin:"0 auto","margin-top":"0.1rem"}}),e._v(" "),t("div",{attrs:{id:"linebarrier"}})]),e._v(" "),t("el-col",{staticStyle:{background:"#e9e9e9",width:"3%",height:"350px"},attrs:{span:4}}),e._v(" "),t("el-col",{staticStyle:{background:"#fff"},attrs:{span:8}},[t("div",{style:{width:"100%",height:"360px"},attrs:{id:"carnumberguil"}})])],1),e._v(" "),t("el-row",{staticClass:"fa",staticStyle:{padding:"20px 0"}},[t("el-col",{staticStyle:{background:"#fff"},attrs:{span:12}},[t("div",{attrs:{id:"userlogin"}})]),e._v(" "),t("el-col",{staticStyle:{background:"#e9e9e9",width:"3%",height:"350px"},attrs:{span:4}}),e._v(" "),t("el-col",{staticStyle:{background:"#fff"},attrs:{span:8}},[t("div",{style:{width:"100%",height:"350px"},attrs:{id:"remark"}})])],1)],1)},staticRenderFns:[]};var k=t("VU/8")(f,b,!1,function(e){t("99Pr")},"data-v-10f2dfd4",null);a.default=k.exports}});